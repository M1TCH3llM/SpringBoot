package com.synergisticit.util;

import com.synergisticit.domain.Employee;
import com.synergisticit.service.EmployeeService;

import java.util.List;

import org.springframework.boot.CommandLineRunner;
import org.springframework.stereotype.Component;

@Component
public class EmployeeRunner implements CommandLineRunner {

    private final EmployeeService employeeService;

    public EmployeeRunner(EmployeeService employeeService) {
        this.employeeService = employeeService;
    }
        
    
    @Override
    public void run(String... args) {
    	List<Employee> employees = List.of(
    		    new Employee("Afroz", "Programmer", 15556.0),
    		    new Employee("Himvan", "Sr. Programmer", 17556.0),
    		    new Employee("Oscar", "DBA", 17556.0),
    		    new Employee("Mike Zeber", "Tester", 15000.0),
    		    new Employee("Pooja", "Programmer", 15000.0),
    		    new Employee("Kalani", "Sr Programer", 40000.0),
    		    new Employee("Kelsey", "UX designer", 35000.0),
    		    new Employee("John", "CEO", 70000.0),
    		    new Employee("Mitch", "Sr.Programmer", 20000.0)
    		);

    		employeeService.save(employees);

        System.out.println("ðŸ“‹ All Employees:");
        employeeService.findAll().forEach(System.out::println);

        System.out.println("\nDeleting employee record with id = 20 ...");
        employeeService.deleteById(20);          

        // Show remaining employees
        employeeService.findAll().forEach(System.out::println);
    }
}

